---
layout: default
title: V2.0 API - Advanced Features
---

# V2.0 API Reference

**Advanced Spintronics & Neuromorphic Computing - 25 GPU Kernels**

All V1.0 features are included. This page documents additional V2.0 capabilities.

---

## Multi-Neighbor RKKY

### EnableMultiRKKYCoupling()

Enable RKKY coupling with multiple neighboring layers (beyond nearest neighbor).

**Physics:**
```
H_RKKY = Σ_i J_i × m_i / (μ₀ × Ms × t)
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `MultiRKKY_J` | []float | J/m² | [] | Coupling strengths for each neighbor |
| `MultiRKKY_layers` | []int | - | [] | Layer indices for coupling |

**Usage:**
```go
EnableMultiRKKYCoupling()
SetMultiRKKY([]float{-0.5e-3, 0.1e-3, -0.02e-3})  // 1st, 2nd, 3rd neighbors
```

---

## Interlayer DMI

### EnableInterlayerDMI()

Enable Dzyaloshinskii-Moriya interaction between layers.

**Physics:**
```
H_iDMI = D × (z × ∇m_other)
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `InterlayerDMI_D` | float | J/m² | 0 | Interlayer DMI strength |

**Usage:**
```go
EnableInterlayerDMI()
InterlayerDMI_D = 0.5e-3  // 0.5 mJ/m²
```

---

## Non-Collinear RKKY

### EnableNonCollinearRKKY()

Enable RKKY coupling with biquadratic term for non-collinear alignment.

**Physics:**
```
E = -J₁(m₁·m₂) - J₂(m₁·m₂)²
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `NonCollinearRKKY_J1` | float | J/m² | 0 | Bilinear coupling |
| `NonCollinearRKKY_J2` | float | J/m² | 0 | Biquadratic coupling |

**Usage:**
```go
EnableNonCollinearRKKY()
NonCollinearRKKY_J1 = -0.3e-3
NonCollinearRKKY_J2 = -0.1e-3   // Favors 90° alignment
```

---

## Spin Diffusion

### EnableSpinDiffusion()

Solve Valet-Fert spin diffusion equation for spin accumulation.

**Physics:**
```
∇²μ_s = μ_s / λ_sf²
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `SpinDiffusion_lambda` | float | m | 10e-9 | Spin diffusion length |
| `SpinDiffusion_D` | float | m²/s | 1e-3 | Diffusion coefficient |

**Usage:**
```go
EnableSpinDiffusion()
SpinDiffusion_lambda = 5e-9
SpinDiffusion_D = 1e-3

// Get spin accumulation
TableAdd(SpinAccumulation)
```

---

## Stochastic STDP

### EnableStochasticSTDP()

STDP with stochastic weight updates for biological realism.

**Physics:**
```
P(ΔW) = f(Δt) × noise
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `StochasticSTDP_noise` | float | - | 0.1 | Noise amplitude |
| `StochasticSTDP_seed` | int | - | 0 | Random seed |

**Usage:**
```go
EnableStochasticSTDP()
StochasticSTDP_noise = 0.2
StochasticSTDP_seed = 42
```

---

## Reservoir Computing

### EnableReservoirComputing()

Enable reservoir computing mode for temporal pattern recognition.

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `ReservoirSize` | int | - | 100 | Number of reservoir nodes |
| `ReservoirSpectralRadius` | float | - | 0.9 | Weight matrix spectral radius |
| `ReservoirInputScale` | float | - | 1.0 | Input scaling factor |
| `ReservoirLeakRate` | float | - | 0.3 | Leaky integration rate |

**Usage:**
```go
EnableReservoirComputing()
ReservoirSize = 256
ReservoirSpectralRadius = 0.95
ReservoirLeakRate = 0.5

// Feed input
ReservoirInput(inputSignal)

// Read state
state := ReservoirState()
```

---

## Metaplasticity

### EnableMetaplasticity()

Enable sliding threshold for homeostatic plasticity.

**Physics:**
```
θ_m(t) = θ_m(t-1) + η × (<m²> - target)
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `Metaplasticity_eta` | float | - | 0.01 | Learning rate |
| `Metaplasticity_target` | float | - | 0.5 | Target activity |

**Usage:**
```go
EnableMetaplasticity()
Metaplasticity_eta = 0.001
Metaplasticity_target = 0.3
```

---

## Heat Diffusion

### EnableHeatDiffusion()

Solve heat equation for temperature dynamics.

**Physics:**
```
∂T/∂t = κ∇²T + Q/(ρC_p)
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `HeatDiffusion_kappa` | float | m²/s | 1e-5 | Thermal diffusivity |
| `HeatDiffusion_Q` | float | W/m³ | 0 | Heat source density |

**Usage:**
```go
EnableHeatDiffusion()
HeatDiffusion_kappa = 8e-5      // Cobalt
HeatDiffusion_Q = 1e15          // Joule heating

// Get temperature field
Save(Temperature)
```

---

## Nonlinear VCMA

### EnableNonlinearVCMA()

VCMA with higher-order voltage dependence.

**Physics:**
```
K_eff = K_u - ξ₁V/t - ξ₂V²/t²
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `NonlinearVCMA_xi1` | float | J/(V·m) | 0 | Linear coefficient |
| `NonlinearVCMA_xi2` | float | J/(V²·m²) | 0 | Quadratic coefficient |

**Usage:**
```go
EnableNonlinearVCMA()
NonlinearVCMA_xi1 = 30e-15
NonlinearVCMA_xi2 = 5e-15
```

---

## Magnon-Phonon Coupling

### EnableMagnonPhonon()

Enable magnon-phonon interaction for magnetoelastic effects.

**Physics:**
```
H_mp = B₁ × ε × (m·n)² + B₂ × ε × (m·n)
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `MagnonPhonon_B1` | float | J/m³ | 0 | Magnetoelastic constant |
| `MagnonPhonon_B2` | float | J/m³ | 0 | Linear magnetoelastic |
| `MagnonPhonon_strain` | float | - | 0 | Applied strain |

**Usage:**
```go
EnableMagnonPhonon()
MagnonPhonon_B1 = 9e6           // Fe value
MagnonPhonon_strain = 0.001     // 0.1% strain
```

---

## Quantum TMR

### ComputeQuantumTMR()

Calculate tunnel magnetoresistance with quantum corrections.

**Physics:**
```
TMR = (R_AP - R_P) / R_P = 2P₁P₂ / (1 - P₁P₂)
```

With quantum corrections for barrier asymmetry and interface states.

**Usage:**
```go
EnableQuantumTMR()

// Set polarizations
QuantumTMR_P1 = 0.7
QuantumTMR_P2 = 0.7

// Read TMR
TableAdd(TMR)
```

---

## Temperature-Dependent RKKY

### EnableTemperatureRKKY()

RKKY coupling with temperature dependence.

**Physics:**
```
J(T) = J₀ × (1 - T/T_c)^β
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `TempRKKY_Tc` | float | K | 1000 | Critical temperature |
| `TempRKKY_beta` | float | - | 0.5 | Critical exponent |

**Usage:**
```go
EnableTemperatureRKKY()
TempRKKY_Tc = 800
TempRKKY_beta = 0.36

Temp = 300   // Sets operating temperature
```

---

## Spin Wave FFT

### ComputeSpinWaveFFT()

Compute spin wave spectrum using FFT.

**Usage:**
```go
EnableSpinWaveFFT()

// Excite and record
B_ext = Vector(0, 0, 0.1)
for i := 0; i < 1000; i++ {
    Steps(10)
    RecordSpinWaveFrame()
}

// Compute spectrum
spectrum := ComputeSpinWaveFFT()
Save(spectrum)
```

---

## Spin Hall Nano-Oscillator (SHNO)

### EnableSHNO()

Simulate SHNO dynamics for microwave generation.

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `SHNO_current` | float | A | 0 | Drive current |
| `SHNO_fieldAngle` | float | rad | 0 | External field angle |

**Usage:**
```go
EnableSHNO()
SHNO_current = 1e-3
SHNO_fieldAngle = 15 * pi / 180

// Monitor precession frequency
TableAdd(SHNO_frequency)
```

---

## Exchange Bias

### EnableExchangeBias()

Enable exchange bias from antiferromagnetic pinning layer.

**Physics:**
```
H_eb = H_eb × n_eb
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `ExchangeBias_Heb` | float | A/m | 0 | Exchange bias field |
| `ExchangeBias_dir` | vector | - | (1,0,0) | Bias direction |

**Usage:**
```go
EnableExchangeBias()
ExchangeBias_Heb = 50e3              // 50 kA/m
ExchangeBias_dir = Vector(1, 0, 0)   // Along +x
```

---

## Voltage-Controlled RKKY

### EnableVoltageRKKY()

RKKY coupling controlled by gate voltage.

**Physics:**
```
J(V) = J₀ × (1 + β × V)
```

**Parameters:**

| Parameter | Type | Unit | Default | Description |
|-----------|------|------|---------|-------------|
| `VoltageRKKY_beta` | float | V⁻¹ | 0 | Voltage sensitivity |
| `VoltageRKKY_V` | float | V | 0 | Gate voltage |

**Usage:**
```go
EnableVoltageRKKY()
VoltageRKKY_beta = 0.3
VoltageRKKY_V = 1.5
```

---

## Neuromorphic Features

### Synaptic Homeostasis

```go
EnableSynapticHomeostasis()
Homeostasis_tau = 1e-3        // Time constant
Homeostasis_target = 10       // Target firing rate (Hz)
```

### Dendritic Computation

```go
EnableDendriticComputation()
Dendritic_branches = 10
Dendritic_compartments = 5
```

### Winner-Take-All

```go
EnableWTA()
WTA_inhibition = 0.8          // Lateral inhibition strength
WTA_k = 1                     // Number of winners
```

---

## Transport Properties

### Topological Hall Effect

```go
EnableTopologicalHall()
// Computed automatically from skyrmion density
TableAdd(TopologicalHallResistivity)
```

### Spin Pumping

```go
EnableSpinPumping()
SpinPumping_gmix = 1e15       // Mixing conductance (1/m²)
TableAdd(SpinPumpingCurrent)
```

---

## Complete V2.0 Example

```go
// Neuromorphic reservoir with thermal SHNO
SetGridSize(128, 128, 4)
SetCellSize(5e-9, 5e-9, 3e-9)

// Material
Msat = 800e3
Aex = 13e-12
alpha = 0.005
Ku1 = 0.4e6
anisU = Vector(0, 0, 1)

// Multilayer structure
DefRegion(1, Layer(0))   // FM1
DefRegion(2, Layer(1))   // Spacer (non-magnetic)
DefRegion(3, Layer(2))   // FM2
DefRegion(4, Layer(3))   // FM3

Msat.SetRegion(2, 0)     // Non-magnetic spacer

// SAF coupling
EnableMultiRKKYCoupling()
SetMultiRKKY([]float{-0.5e-3, 0.08e-3})

// Reservoir computing
EnableReservoirComputing()
ReservoirSize = 100
ReservoirSpectralRadius = 0.95

// SHNO drive
EnableSHNO()
SHNO_current = 2e-3
B_ext = Vector(0.05, 0.05, 0)

// Thermal
EnableThermalField()
Temp = 300

// Heat diffusion
EnableHeatDiffusion()
HeatDiffusion_kappa = 5e-5

// Output
TableAdd(E_total)
TableAdd(SHNO_frequency)
TableAdd(Temperature)
TableAutosave(100e-12)

// Simulate
Run(100e-9)
```

---

[Back to API Reference](/api/)

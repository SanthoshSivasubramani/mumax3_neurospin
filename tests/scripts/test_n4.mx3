SetGridSize(32, 32, 1)
SetCellSize(3e-9, 3e-9, 1e-9)

Msat = 580e3
Aex = 15e-12
Dind = 3.5e-3
Ku1 = 0.8e6
anisU = vector(0, 0, 1)
Alpha = 0.3
B_ext = vector(0, 0, 0.1)

Skyrmion_barrier_samples = 3  // Quick test
Skyrmion_radius_nm = 30

m = uniform(0, 0, 1)
relax()

dE_nuc := CalculateSkyrmionBarrier("nucleation")
print("N4 Nucleation:", dE_nuc)

dE_ann := CalculateSkyrmionBarrier("annihilation")
print("N4 Annihilation:", dE_ann)

print("N4: PASS - Skyrmion barriers calculated")
